{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useContext } from 'react';\nimport setEstadoDB from '../services/setEstado';\nimport getEstadoDB from '../services/getEstadoDB';\nimport useSession from './useSession';\nimport SessionContext from '../context/SessionContext';\n\nconst useBooksEstado = () => {\n  _s();\n\n  const {\n    userLogin,\n    setUserLogin\n  } = useContext(SessionContext);\n  const {\n    jwt\n  } = useSession();\n\n  async function cambiarEstadoLibro([libro, estado]) {\n    await setEstadoDB(libro, userLogin._id, estado, jwt);\n    const nuevoUSer = await getEstadoDB(userLogin._id, jwt);\n\n    if (nuevoUSer && nuevoUSer._id) {\n      window.localStorage.setItem(\"userLogin\", JSON.stringify(nuevoUSer));\n      setUserLogin(nuevoUSer);\n    }\n  }\n\n  return {\n    cambiarEstadoLibro\n  };\n};\n\n_s(useBooksEstado, \"gMviIdjZlgEHHrbSsrAn3rkqqFI=\", false, function () {\n  return [useSession];\n});\n\nexport default useBooksEstado;","map":{"version":3,"sources":["/Users/josevillalba/Documents/challenge/alibrate/frontend/src/hooks/useBookEstado.js"],"names":["useContext","setEstadoDB","getEstadoDB","useSession","SessionContext","useBooksEstado","userLogin","setUserLogin","jwt","cambiarEstadoLibro","libro","estado","_id","nuevoUSer","window","localStorage","setItem","JSON","stringify"],"mappings":";;AAAA,SAAQA,UAAR,QAAyB,OAAzB;AACA,OAAOC,WAAP,MAAyB,uBAAzB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAQC,cAAR,MAA6B,2BAA7B;;AACA,MAAMC,cAAc,GAAG,MAAI;AAAA;;AACvB,QAAM;AAACC,IAAAA,SAAD;AAAYC,IAAAA;AAAZ,MAA0BP,UAAU,CAACI,cAAD,CAA1C;AACA,QAAM;AAACI,IAAAA;AAAD,MAAML,UAAU,EAAtB;;AACA,iBAAeM,kBAAf,CAAkC,CAACC,KAAD,EAAOC,MAAP,CAAlC,EAAiD;AAC7C,UAAMV,WAAW,CAACS,KAAD,EAAOJ,SAAS,CAACM,GAAjB,EAAqBD,MAArB,EAA4BH,GAA5B,CAAjB;AACA,UAAMK,SAAS,GAAC,MAAMX,WAAW,CAACI,SAAS,CAACM,GAAX,EAAeJ,GAAf,CAAjC;;AACA,QAAGK,SAAS,IAAIA,SAAS,CAACD,GAA1B,EAA8B;AAC1BE,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,EAAwCC,IAAI,CAACC,SAAL,CAAeL,SAAf,CAAxC;AACAN,MAAAA,YAAY,CAACM,SAAD,CAAZ;AACH;AACJ;;AACD,SAAO;AAACJ,IAAAA;AAAD,GAAP;AACH,CAZD;;GAAMJ,c;UAEUF,U;;;AAWhB,eAAeE,cAAf","sourcesContent":["import {useContext} from 'react'\nimport setEstadoDB  from '../services/setEstado'\nimport getEstadoDB from '../services/getEstadoDB'\nimport useSession from './useSession'\nimport  SessionContext  from '../context/SessionContext'\nconst useBooksEstado = ()=>{\n    const {userLogin ,setUserLogin}=useContext(SessionContext);\n    const {jwt}=useSession()\n    async function cambiarEstadoLibro([libro,estado]){\n        await setEstadoDB(libro,userLogin._id,estado,jwt)\n        const nuevoUSer=await getEstadoDB(userLogin._id,jwt)\n        if(nuevoUSer && nuevoUSer._id){\n            window.localStorage.setItem(\"userLogin\",JSON.stringify(nuevoUSer))\n            setUserLogin(nuevoUSer)\n        }\n    }\n    return {cambiarEstadoLibro}\n}\nexport default useBooksEstado;"]},"metadata":{},"sourceType":"module"}