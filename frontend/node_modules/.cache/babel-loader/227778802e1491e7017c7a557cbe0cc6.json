{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport setEstadoDB from '../services/setEstado';\nimport getEstadoDB from '../services/getEstadoDB';\nimport useSession from './useSession';\nimport SessionContext from '../context/SessionContext';\nexport default function useBooksEstado() {\n  _s();\n\n  const {\n    userLogin,\n    setUserLogin\n  } = useContext(SessionContext);\n  const {\n    jwt\n  } = useSession();\n\n  function cambiarEstadoLibro([libro, estado]) {\n    setEstadoDB(libro, userLogin._id, estado, jwt).then(jsonResponse => {});\n    setTimeout(() => {\n      getEstadoDB(userLogin._id, jwt).then(nuevoUSer => {\n        window.localStorage.setItem(\"userLogin\", JSON.stringify(nuevoUSer));\n        setUserLogin(nuevoUSer);\n      });\n    }, 400);\n  }\n\n  return {\n    cambiarEstadoLibro\n  };\n}\n\n_s(useBooksEstado, \"gMviIdjZlgEHHrbSsrAn3rkqqFI=\", false, function () {\n  return [useSession];\n});","map":{"version":3,"sources":["/Users/josevillalba/Documents/challenge/alibrate/frontend/src/hooks/useBookEstado.js"],"names":["React","useContext","setEstadoDB","getEstadoDB","useSession","SessionContext","useBooksEstado","userLogin","setUserLogin","jwt","cambiarEstadoLibro","libro","estado","_id","then","jsonResponse","setTimeout","nuevoUSer","window","localStorage","setItem","JSON","stringify"],"mappings":";;AACA,OAAOA,KAAP,IAAcC,UAAd,QAA+B,OAA/B;AACA,OAAOC,WAAP,MAAyB,uBAAzB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAQC,cAAR,MAA6B,2BAA7B;AAEA,eAAe,SAASC,cAAT,GAAyB;AAAA;;AACpC,QAAM;AAACC,IAAAA,SAAD;AAAYC,IAAAA;AAAZ,MAA0BP,UAAU,CAACI,cAAD,CAA1C;AACA,QAAM;AAACI,IAAAA;AAAD,MAAML,UAAU,EAAtB;;AACA,WAASM,kBAAT,CAA4B,CAACC,KAAD,EAAOC,MAAP,CAA5B,EAA2C;AACvCV,IAAAA,WAAW,CAACS,KAAD,EAAOJ,SAAS,CAACM,GAAjB,EAAqBD,MAArB,EAA4BH,GAA5B,CAAX,CACCK,IADD,CACMC,YAAY,IAAE,CAAG,CADvB;AAEAC,IAAAA,UAAU,CAAE,MAAI;AACZb,MAAAA,WAAW,CAACI,SAAS,CAACM,GAAX,EAAeJ,GAAf,CAAX,CACCK,IADD,CACMG,SAAS,IAAE;AACbC,QAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,EAAwCC,IAAI,CAACC,SAAL,CAAeL,SAAf,CAAxC;AACAT,QAAAA,YAAY,CAACS,SAAD,CAAZ;AACH,OAJD;AAKH,KANS,EAMR,GANQ,CAAV;AAOH;;AACD,SAAO;AAACP,IAAAA;AAAD,GAAP;AACH;;GAfuBJ,c;UAERF,U","sourcesContent":["\nimport React,{useContext} from 'react'\nimport setEstadoDB  from '../services/setEstado'\nimport getEstadoDB from '../services/getEstadoDB'\nimport useSession from './useSession'\nimport  SessionContext  from '../context/SessionContext'\n\nexport default function useBooksEstado(){\n    const {userLogin ,setUserLogin}=useContext(SessionContext);\n    const {jwt}=useSession()\n    function cambiarEstadoLibro([libro,estado]){\n        setEstadoDB(libro,userLogin._id,estado,jwt)\n        .then(jsonResponse=>{ })\n        setTimeout( ()=>{\n            getEstadoDB(userLogin._id,jwt)\n            .then(nuevoUSer=>{\n                window.localStorage.setItem(\"userLogin\",JSON.stringify(nuevoUSer))\n                setUserLogin(nuevoUSer)\n            })\n        },400)\n    }\n    return {cambiarEstadoLibro}\n}"]},"metadata":{},"sourceType":"module"}