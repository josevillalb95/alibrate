{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport GetLibros from '../services/getLibros';\nexport default function UseBooks(jwt) {\n  _s();\n\n  const [libros, setLibros] = useState([]);\n  const [skip, setSkip] = useState(0);\n  useEffect(() => {\n    GetLibros({\n      jwt,\n      skip\n    }).then(jsonResponse => {\n      if (jsonResponse[\"data\"] && jsonResponse[\"data\"].length) {\n        let mapBook = jsonResponse[\"data\"].map(libro => {\n          return {\n            \"_id\": libro._id,\n            \"categoria\": libro.category ? libro.category[0] : \"\",\n            \"autor\": libro.author,\n            \"titulo\": libro.title,\n            \"img\": libro.bookCover,\n            \"calificacion\": libro.globalRating ? libro.globalRating.rating : 0\n          };\n        });\n        setLibros(oldLibros => oldLibros.concat(mapBook));\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [skip, setLibros]);\n  return {\n    libros,\n    setSkip // mal\n\n  };\n}\n\n_s(UseBooks, \"pTh4yRZcEXyVfMsnqJ2BmBN6C3g=\");\n\n_c = UseBooks;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseBooks\");","map":{"version":3,"sources":["/Users/josevillalba/Documents/challenge/alibrate/frontend/src/hooks/useBooks.js"],"names":["useEffect","useState","GetLibros","UseBooks","jwt","libros","setLibros","skip","setSkip","then","jsonResponse","length","mapBook","map","libro","_id","category","author","title","bookCover","globalRating","rating","oldLibros","concat","catch","err","console","log"],"mappings":";;AAAA,SAAQA,SAAR,EAAkBC,QAAlB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,eAAe,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AAAA;;AAClC,QAAM,CAACC,MAAD,EAAQC,SAAR,IAAmBL,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAM,CAACM,IAAD,EAAMC,OAAN,IAAeP,QAAQ,CAAC,CAAD,CAA7B;AACAD,EAAAA,SAAS,CAAE,MAAI;AACXE,IAAAA,SAAS,CAAC;AAACE,MAAAA,GAAD;AAAKG,MAAAA;AAAL,KAAD,CAAT,CAAsBE,IAAtB,CAA2BC,YAAY,IAAE;AACrC,UAAGA,YAAY,CAAC,MAAD,CAAZ,IAAwBA,YAAY,CAAC,MAAD,CAAZ,CAAqBC,MAAhD,EAAuD;AACnD,YAAIC,OAAO,GAACF,YAAY,CAAC,MAAD,CAAZ,CAAqBG,GAArB,CAA2BC,KAAD,IAAS;AAC3C,iBAAO;AACH,mBAAMA,KAAK,CAACC,GADT;AAEH,yBAAYD,KAAK,CAACE,QAAN,GAAeF,KAAK,CAACE,QAAN,CAAe,CAAf,CAAf,GAAiC,EAF1C;AAGH,qBAAQF,KAAK,CAACG,MAHX;AAIH,sBAASH,KAAK,CAACI,KAJZ;AAKH,mBAAMJ,KAAK,CAACK,SALT;AAMH,4BAAeL,KAAK,CAACM,YAAN,GAAmBN,KAAK,CAACM,YAAN,CAAmBC,MAAtC,GAA6C;AANzD,WAAP;AAQH,SATW,CAAZ;AAUAf,QAAAA,SAAS,CAAEgB,SAAD,IAAcA,SAAS,CAACC,MAAV,CAAiBX,OAAjB,CAAf,CAAT;AACH;AACJ,KAdD,EAeCY,KAfD,CAeOC,GAAG,IAAE;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAjBD;AAkBH,GAnBQ,EAmBP,CAAClB,IAAD,EAAMD,SAAN,CAnBO,CAAT;AAoBA,SAAO;AACHD,IAAAA,MADG;AAEHG,IAAAA,OAFG,CAEK;;AAFL,GAAP;AAKH;;GA5BuBL,Q;;KAAAA,Q","sourcesContent":["import {useEffect,useState} from 'react'\nimport GetLibros from '../services/getLibros';\nexport default function UseBooks(jwt) {\n    const [libros,setLibros]=useState([])\n    const [skip,setSkip]=useState(0)\n    useEffect( ()=>{\n        GetLibros({jwt,skip}).then(jsonResponse=>{\n            if(jsonResponse[\"data\"] && jsonResponse[\"data\"].length){\n                let mapBook=jsonResponse[\"data\"].map( (libro)=>{\n                    return {\n                        \"_id\":libro._id,\n                        \"categoria\":libro.category?libro.category[0]:\"\",\n                        \"autor\":libro.author,\n                        \"titulo\":libro.title,\n                        \"img\":libro.bookCover,\n                        \"calificacion\":libro.globalRating?libro.globalRating.rating:0\n                    }\n                })\n                setLibros((oldLibros)=> oldLibros.concat(mapBook) ) \n            }\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n    },[skip,setLibros])\n    return {\n        libros,\n        setSkip // mal\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}